<CascadingAuthenticationState>
    <Router AppAssembly="@typeof(App).Assembly">
        <Found Context="routeData">
            <AuthorizeRouteView RouteData="@routeData"
                                DefaultLayout="@typeof(Bookify.Client.Components.Layout.MainLayout)">
                <NotAuthorized>
                    @if (!context.User.Identity?.IsAuthenticated ?? true)
                    {
                        <RedirectToLogin />
                    }
                    else
                    {
                        <div class="min-h-screen flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-6xl mb-4">ðŸš«</div>
                                <h1 class="text-2xl font-bold text-gray-800">Access Denied</h1>
                                <p class="text-gray-500 mt-2">You don't have permission to view this page.</p>
                                <a href="/" class="mt-4 inline-block text-primary-600 underline">Go Home</a>
                            </div>
                        </div>
                    }
                </NotAuthorized>
                <Authorizing>
                    <LoadingSpinner Message="Authenticating..." />
                </Authorizing>
            </AuthorizeRouteView>
            <FocusOnNavigate RouteData="@routeData" Selector="h1" />
        </Found>
        <NotFound>
            <PageTitle>Not Found â€” Bookify</PageTitle>
            <div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-blue-100">
                <div class="text-center">
                    <div class="text-8xl font-black text-primary-200 mb-4">404</div>
                    <h1 class="text-3xl font-bold text-gray-800">Page Not Found</h1>
                    <p class="text-gray-500 mt-2 mb-6">The page you're looking for doesn't exist.</p>
                    <a href="/"
                       class="inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-colors">
                        Go Home
                    </a>
                </div>
            </div>
        </NotFound>
    </Router>
</CascadingAuthenticationState>
